!function(o,t){function e(){if(t.documentElement.scrollTop+t.body.scrollTop>=c){if(r)return;r=!0,s.addClass("toc-fixed").addClass("toc-fixed-left"),setTimeout(function(){s.removeClass("toc-fixed-left")},0),f.width()>800&&l.css("padding-top",n),a.fadeIn("slow")}else{if(!r)return;r=!1,s.addClass("toc-fixed-left"),setTimeout(function(){s.removeClass("toc-fixed-left").removeClass("toc-fixed"),l.css("padding-top",0)},500),a.fadeOut("slow")}}var s=$("#container"),i=$("#toc");if(0!=i.length){var n=i.height()+26,c=i.position().top+n,l=$(".article-entry"),a=$("#top_arrow"),d=$(".toc-arrow"),f=$("html, body"),r=!1;o.addEventListener("scroll",e),e(),o.addEventListener("resize",function(){setTimeout(function(){n=i.height()+26,c=i.position().top+n,e()},100)}),o.addEventListener("hashchange",function(){var t=o.location.hash;if("#respond"==t)$(".duoshuo textarea").focus();else{var e=$('.toc-link[href="'+t+'"]');0!=e.length&&($(".toc-focus").removeClass("toc-focus"),e.addClass("toc-focus"))}}),a.click(function(){f.animate({scrollTop:0},"slow")}),d.click(function(){s.toggleClass("toc-fixed-left")})}}(window,document);