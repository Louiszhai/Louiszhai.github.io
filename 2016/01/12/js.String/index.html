<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>JavaScriptå­—ç¬¦ä¸²æ‰€æœ‰APIå…¨è§£å¯† | louis blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="JavaScript String String.prototype charAt charCodeAt concat indexOf lastIndexOf localeCompare match replace search slice split substr substring toLocaleLowerCase toLocaleUpperCase toLowerCase toString">
<meta name="keywords" content="JavaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScriptå­—ç¬¦ä¸²æ‰€æœ‰APIå…¨è§£å¯†">
<meta property="og:url" content="http://louiszhai.github.io/2016/01/12/js.String/index.html">
<meta property="og:site_name" content="louis blog">
<meta property="og:description" content="JavaScript String String.prototype charAt charCodeAt concat indexOf lastIndexOf localeCompare match replace search slice split substr substring toLocaleLowerCase toLocaleUpperCase toLowerCase toString">
<meta property="og:updated_time" content="2017-10-11T08:32:28.575Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScriptå­—ç¬¦ä¸²æ‰€æœ‰APIå…¨è§£å¯†">
<meta name="twitter:description" content="JavaScript String String.prototype charAt charCodeAt concat indexOf lastIndexOf localeCompare match replace search slice split substr substring toLocaleLowerCase toLocaleUpperCase toLowerCase toString">
  
    <link rel="alternative" href="/atom.xml" title="louis blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
<div id="container">
    <div class="left-col">
        <div class="overlay">
	<!--<input type="text" class="st-default-search-input" style="position:absolute;top: 50px;left: 35px;">-->
</div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://avatars2.githubusercontent.com/u/8412301?v=3&amp;s=320" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">è·¯æ˜“æ–¯</a></h1>
		</hgroup>

		
		<p class="header-subtitle">åšæŒåŸè‘—, æ·±åº¦æ€è€ƒ, åŠ›æ±‚ç®€å•é€šä¿—å™äº‹</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						<li>Links</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">ä¸»é¡µ</a></li>
				        
							<li><a href="/archives/">æ‰€æœ‰æ–‡ç« </a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/Louiszhai" title="github">github</a>
					        
								<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/CSS/" style="font-size: 16.67px;">CSS</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/JavaScript-Canvas/" style="font-size: 10px;">JavaScript Canvas</a> <a href="/tags/JavaScript-Chrome-Extension/" style="font-size: 10px;">JavaScript Chrome-Extension</a> <a href="/tags/Tool/" style="font-size: 10px;">Tool</a> <a href="/tags/Web/" style="font-size: 16.67px;">Web</a> <a href="/tags/XSS/" style="font-size: 10px;">XSS</a> <a href="/tags/css/" style="font-size: 13.33px;">css</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.ruanyifeng.com/blog/">é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.zhangxinxu.com/wordpress/category/js/">å¼ é‘«æ—­-é‘«ç©ºé—´-é‘«ç”Ÿæ´»</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://evanyou.me/">å°¤é›¨æºªä¸»é¡µ</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
        <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">è·¯æ˜“æ–¯</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="https://avatars2.githubusercontent.com/u/8412301?v=3&amp;s=320" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">è·¯æ˜“æ–¯</h1>
			</hgroup>
			
			<p class="header-subtitle">åšæŒåŸè‘—, æ·±åº¦æ€è€ƒ, åŠ›æ±‚ç®€å•é€šä¿—å™äº‹</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">ä¸»é¡µ</a></li>
		        
					<li><a href="/archives/">æ‰€æœ‰æ–‡ç« </a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/Louiszhai" title="github">github</a>
			        
						<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

        <div class="body-wrap"><article id="post-js.String" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/12/js.String/" class="article-date">
  	<time datetime="2016-01-12T12:27:09.000Z" itemprop="datePublished">2016-01-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      JavaScriptå­—ç¬¦ä¸²æ‰€æœ‰APIå…¨è§£å¯†
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          <span class="toc-arrow"></span>
<div id="toc" class="toc-article">
    <div class="toc-title">ç›®å½•</div>
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Stringæ„é€ å™¨æ–¹æ³•"><span class="toc-text">Stringæ„é€ å™¨æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#fromCharCode"><span class="toc-text">fromCharCode</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fromCodePoint-ES6"><span class="toc-text">fromCodePoint(ES6)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#raw-ES6"><span class="toc-text">raw(ES6)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#String-prototype"><span class="toc-text">String.prototype</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#å±æ€§"><span class="toc-text">å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æ–¹æ³•"><span class="toc-text">æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#HTMLæ— å…³çš„æ–¹æ³•"><span class="toc-text">HTMLæ— å…³çš„æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#charAt"><span class="toc-text">charAt</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#charCodeAt"><span class="toc-text">charCodeAt</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#concat"><span class="toc-text">concat</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#indexOf"><span class="toc-text">indexOf</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#lastIndexOf"><span class="toc-text">lastIndexOf</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#localeCompare"><span class="toc-text">localeCompare</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#match"><span class="toc-text">match</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#replace"><span class="toc-text">replace</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#search"><span class="toc-text">search</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#slice"><span class="toc-text">slice</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#split"><span class="toc-text">split</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#substr"><span class="toc-text">substr</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#substring"><span class="toc-text">substring</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#toLocaleLowerCase"><span class="toc-text">toLocaleLowerCase</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#toLocaleUpperCase"><span class="toc-text">toLocaleUpperCase</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#toLowerCase"><span class="toc-text">toLowerCase</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#toUpperCase"><span class="toc-text">toUpperCase</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#toString-NaN"><span class="toc-text">toString</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#valueOf-NaN"><span class="toc-text">valueOf</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#trim"><span class="toc-text">trim</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#codePointAt-ES6"><span class="toc-text">codePointAt(ES6)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#includes-ES6"><span class="toc-text">includes(ES6)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#endsWith-ES6"><span class="toc-text">endsWith(ES6)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#normalize-ES6"><span class="toc-text">normalize(ES6)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#repeat-ES6"><span class="toc-text">repeat(ES6)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#startsWith-ES6"><span class="toc-text">startsWith(ES6)</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTMLæœ‰å…³çš„æ–¹æ³•"><span class="toc-text">HTMLæœ‰å…³çš„æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#anchor"><span class="toc-text">anchor</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#link"><span class="toc-text">link</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å°ç»“"><span class="toc-text">å°ç»“</span></a></li></ol>
</div>
      
        <p>æœ¬æ–‡è¿‘ 6k å­—ï¼Œè¯»å®Œéœ€ 10 åˆ†é’Ÿã€‚</p>
<p>å­—ç¬¦ä¸²ä½œä¸ºåŸºæœ¬çš„ä¿¡æ¯äº¤æµçš„æ¡¥æ¢ï¼Œå‡ ä¹è¢«æ‰€æœ‰çš„ç¼–ç¨‹è¯­è¨€æ‰€å®ç°ï¼ˆç„¶è€Œcã€c++æ²¡æœ‰æä¾›ï¼‰ã€‚å¤šæ•°å¼€å‘è€…å‡ ä¹æ¯å¤©éƒ½åœ¨å’Œå­—ç¬¦ä¸²æ‰“äº¤é“ï¼Œè¯­è¨€å†…ç½®çš„Stringæ¨¡å—ï¼Œæå¤§åœ°æå‡äº†å¼€å‘è€…çš„æ•ˆç‡ã€‚JavaScripté€šè¿‡è‡ªåŠ¨è£…ç®±å­—ç¬¦ä¸²å­—é¢é‡ä¸ºStringå¯¹è±¡ï¼Œè‡ªç„¶åœ°ç»§æ‰¿äº†String.prototypeçš„æ‰€æœ‰æ–¹æ³•ï¼Œæ›´åŠ ç®€åŒ–äº†å­—ç¬¦ä¸²çš„ä½¿ç”¨ã€‚</p>
<p>æˆªæ­¢ES6ï¼Œå­—ç¬¦ä¸²å…±åŒ…å«31ä¸ªæ ‡å‡†çš„APIæ–¹æ³•ï¼Œå…¶ä¸­æœ‰äº›æ–¹æ³•å‡ºé•œç‡è¾ƒé«˜ï¼Œéœ€è¦æ‘¸é€åŸç†ï¼›æœ‰äº›æ–¹æ³•ä¹‹é—´ç›¸ä¼¼åº¦è¾ƒé«˜ï¼Œéœ€è¦ä»”ç»†åˆ†è¾¨ï¼›ç”šè‡³æœ‰äº›æ–¹æ³•æ‰§è¡Œæ•ˆç‡è¾ƒä½ï¼Œåº”å½“å°½é‡å°‘çš„ä½¿ç”¨ã€‚ä¸‹é¢å°†ä»Stringæ„é€ å™¨æ–¹æ³•è¯´èµ·ï¼Œé€æ­¥å¸®åŠ©ä½ æŒæ¡å­—ç¬¦ä¸²ã€‚</p>
<a id="more"></a>
<h3 id="Stringæ„é€ å™¨æ–¹æ³•"><a href="#Stringæ„é€ å™¨æ–¹æ³•" class="headerlink" title="Stringæ„é€ å™¨æ–¹æ³•"></a><strong>Stringæ„é€ å™¨æ–¹æ³•</strong></h3><h4 id="fromCharCode"><a href="#fromCharCode" class="headerlink" title="fromCharCode"></a><strong>fromCharCode</strong></h4><p>fromCharCode() æ–¹æ³•è¿”å›ä½¿ç”¨æŒ‡å®šçš„Unicodeåºåˆ—åˆ›å»ºçš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼ å…¥Unicodeåºåˆ—ï¼Œè¿”å›åŸºäºæ­¤åˆ›å»ºçš„å­—ç¬¦ä¸²ã€‚</p>
<p>è¯­æ³•ï¼š<em>fromCharCode(num1, num2,â€¦)</em>ï¼Œä¼ å…¥çš„å‚æ•°å‡ä¸ºæ•°å­—ã€‚</p>
<p>å¦‚ä¸‹è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå°†è¿”å› ABCã€abcã€*ã€+ã€- å’Œ /ï¼š</p>
<pre><code class="js">String.fromCharCode(65, 66, 67); // &quot;ABC&quot;
String.fromCharCode(97, 98, 99); // &quot;abc&quot;
String.fromCharCode(42); // &quot;*&quot;
String.fromCharCode(43); // &quot;+&quot;
String.fromCharCode(45); // &quot;-&quot;
String.fromCharCode(47); // &quot;/&quot;
</code></pre>
<p>çœ‹èµ·æ¥fromCharCodeåƒæ˜¯æ»¡è¶³äº†éœ€æ±‚ï¼Œä½†å®é™…ä¸Šç”±äºjsè¯­è¨€è®¾è®¡æ—¶çš„å…ˆå¤©ä¸è¶³ï¼ˆåªèƒ½å¤„ç†UCS-2ç¼–ç ï¼Œå³æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯2ä¸ªå­—èŠ‚ï¼Œæ— æ³•å¤„ç†4å­—èŠ‚å­—ç¬¦ï¼‰ï¼Œé€šè¿‡è¯¥æ–¹æ³•å¹¶ä¸èƒ½è¿”å›ä¸€ä¸ª4å­—èŠ‚çš„å­—ç¬¦ï¼Œä¸ºäº†å¼¥è¡¥è¿™ä¸ªç¼ºé™·ï¼ŒES6æ–°å¢äº†fromCodePointæ–¹æ³•ï¼Œè¯·å¾€ä¸‹çœ‹ã€‚</p>
<h4 id="fromCodePoint-ES6"><a href="#fromCodePoint-ES6" class="headerlink" title="fromCodePoint(ES6)"></a><strong>fromCodePoint(ES6)</strong></h4><p>fromCodePoint() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œä½œç”¨å’Œè¯­æ³•åŒfromCharCodeæ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¸»è¦æ‰©å±•äº†å¯¹4å­—èŠ‚å­—ç¬¦çš„æ”¯æŒã€‚</p>
<pre><code class="js">// &quot;ğŒ†&quot; æ˜¯ä¸€ä¸ª4å­—èŠ‚å­—ç¬¦ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹å®ƒçš„æ•°å­—å½¢å¼
&quot;ğŒ†&quot;.codePointAt(); // 119558
//è°ƒç”¨fromCharCodeè§£æä¹‹ï¼Œè¿”å›ä¹±ç 
String.fromCharCode(119558); // &quot;íŒ†&quot;
//è°ƒç”¨fromCodePointè§£æä¹‹ï¼Œæ­£å¸¸è§£æ
String.fromCodePoint(119558); // &quot;ğŒ†&quot;
</code></pre>
<p>é™¤äº†æ‰©å±•å¯¹4å­—èŠ‚çš„æ”¯æŒå¤–ï¼ŒfromCodePointè¿˜è§„èŒƒäº†é”™è¯¯å¤„ç†ï¼Œåªè¦æ˜¯æ— æ•ˆçš„Unicodeç¼–ç ï¼Œå°±ä¼šæŠ›å‡ºé”™è¯¯<code>RangeError: Invalid code point...</code>ï¼Œè¿™å°±æ„å‘³ç€ï¼Œåªè¦ä¸æ˜¯ç¬¦åˆUnicodeå­—ç¬¦èŒƒå›´çš„æ­£æ•´æ•°ï¼ˆUnicodeæœ€å¤šå¯å®¹çº³1114112ä¸ªç ä½ï¼‰ï¼Œå‡ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<pre><code class="js">String.fromCodePoint(&#39;abc&#39;); // RangeError: Invalid code point NaN
String.fromCodePoint(Infinity); // RangeError: Invalid code point Infinity
String.fromCodePoint(-1.23); // RangeError: Invalid code point -1.23
</code></pre>
<p>æ³¨ï¼šè¿›ä¸€æ­¥äº†è§£Unicodeç¼–ç ï¼Œæ¨èè¿™ç¯‡æ–‡ç« ï¼š<a href="http://www.fmddlmyy.cn/mytext.html" target="_blank" rel="external">æµ…è°ˆæ–‡å­—ç¼–ç å’ŒUnicodeï¼ˆä¸‹ï¼‰</a>ã€‚å¦‚éœ€åœ¨è€çš„æµè§ˆå™¨ä¸­ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œè¯·å‚è€ƒ<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint#Polyfill-æµè§ˆå™¨è¡¥ä¸" target="_blank" rel="external">Polyfill</a>ã€‚</p>
<h4 id="raw-ES6"><a href="#raw-ES6" class="headerlink" title="raw(ES6)"></a>raw(ES6)</h4><p>raw() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„æ ‡ç­¾å‡½æ•°ï¼Œä½œç”¨ç±»ä¼¼äºPythonçš„rå’ŒC#çš„@å­—ç¬¦ä¸²å‰ç¼€ï¼Œéƒ½æ˜¯ç”¨æ¥è·å–ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„åŸå§‹å­—é¢é‡ã€‚</p>
<p>è¯­æ³•ï¼š <em>String.raw(callSite, â€¦substitutions)</em>ï¼ŒcallSiteå³æ¨¡æ¿å­—ç¬¦ä¸²çš„ã€è°ƒç”¨ç‚¹å¯¹è±¡ã€ï¼Œâ€¦substitutionsè¡¨ç¤ºä»»æ„ä¸ªå†…æ’è¡¨è¾¾å¼å¯¹åº”çš„å€¼ï¼Œè¿™é‡Œç†è§£èµ·æ¥ç›¸å½“æ‹—å£ï¼Œä¸‹é¢æˆ‘å°†é€šä¿—çš„è®²è§£å®ƒã€‚</p>
<p>å¦‚ä¸‹æ˜¯pythonçš„å­—ç¬¦ä¸²å‰ç¼€rï¼š</p>
<pre><code class="python"># é˜²æ­¢ç‰¹æ®Šå­—ç¬¦ä¸²è¢«è½¬ä¹‰
print r&#39;a\nb\tc&#39; # æ‰“å°å‡ºæ¥ä¾ç„¶æ˜¯ &quot;a\nb\tc&quot;
# pythonä¸­å¸¸ç”¨äºæ­£åˆ™è¡¨è¾¾å¼
regExp = r&#39;(?&lt;=123)[a-z]+&#39;
</code></pre>
<p>å¦‚ä¸‹æ˜¯String.rawä½œä¸ºå‰ç¼€çš„ç”¨æ³•ï¼š</p>
<pre><code class="js">// é˜²æ­¢ç‰¹æ®Šå­—ç¬¦ä¸²è¢«è½¬ä¹‰
String.raw`a\nb\tc`; // è¾“å‡ºä¸º &quot;a\nb\tc&quot;
// æ”¯æŒå†…æ’è¡¨è¾¾å¼
let name = &quot;louis&quot;;
String.raw`Hello \n ${name}`;  // &quot;Hello \n louis&quot;
// å†…æ’è¡¨è¾¾å¼è¿˜å¯ä»¥è¿ç®—
String.raw`1+2=${1+2},2*3=${2*3}`; // &quot;1+2=3,2*3=6&quot;
</code></pre>
<p>String.rawä½œä¸ºå‡½æ•°æ¥è°ƒç”¨çš„åœºæ™¯ä¸å¤ªå¤šï¼Œå¦‚ä¸‹æ˜¯ç”¨æ³•ï¼š</p>
<pre><code class="js">// å¯¹è±¡çš„rawå±æ€§å€¼ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œä»ç¬¬äºŒä¸ªå‚æ•°èµ·ï¼Œå®ƒä»¬åˆ†åˆ«è¢«æ’å…¥åˆ°ä¸‹æ ‡ä¸º0ï¼Œ1ï¼Œ2ï¼Œ...nçš„å…ƒç´ åé¢
String.raw({raw: &#39;abcd&#39;}, 1, 2, 3); // &quot;a1b2c3d&quot;
// å¯¹è±¡çš„rawå±æ€§å€¼ä¸ºæ•°ç»„æ—¶ï¼Œä»ç¬¬äºŒä¸ªå‚æ•°èµ·ï¼Œå®ƒä»¬åˆ†åˆ«è¢«æ’å…¥åˆ°æ•°ç»„ä¸‹æ ‡ä¸º0ï¼Œ1ï¼Œ2ï¼Œ...nçš„å…ƒç´ åé¢
String.raw({raw: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]}, 1, 2, 3); // &quot;a1b2c3d&quot;
</code></pre>
<p>é‚£ä¹ˆæ€ä¹ˆè§£é‡ŠString.rawå‡½æ•°æŒ‰ç…§ä¸‹æ ‡æŒ¨ä¸ªå»æ’å…¥çš„ç‰¹æ€§å‘¢ï¼ŸMDNä¸Šæœ‰æ®µæè¿°å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>In most cases, <code>String.raw()</code> is used with template strings. The first syntax mentioned above is only rarely used, because <strong>the JavaScript engine will call this with proper arguments for you</strong>, just like with other tag functions.</p>
</blockquote>
<p>è¿™æ„å‘³ç€ï¼ŒString.rawä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼ŒåŸºæœ¬ä¸ES6çš„tagæ ‡ç­¾æ¨¡æ¿ä¸€æ ·ã€‚å¦‚ä¸‹ï¼š</p>
<pre><code class="js">// å¦‚ä¸‹æ˜¯tagå‡½æ•°çš„å®ç°
function tag(){
  const array = arguments[0];
  return array.reduce((p, v, i) =&gt; p + (arguments[i] || &#39;&#39;) + v);
}
// å›é¡¾ä¸€ä¸ªsimpleçš„tagæ ‡ç­¾æ¨¡æ¿
tag`Hello ${ 2 + 3 } world ${ 2 * 3 }`; // &quot;Hello 5 world 6&quot;
// å…¶å®å°±æƒ³å½“äºå¦‚ä¸‹è°ƒç”¨
tag([&#39;Hello &#39;, &#39; world &#39;, &#39;&#39;], 5, 6); // &quot;Hello 5 world 6&quot;
</code></pre>
<p>å› æ­¤String.rawä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼Œä¸è®ºå¯¹è±¡çš„rawå±æ€§å€¼æ˜¯å­—ç¬¦ä¸²è¿˜æ˜¯æ•°ç»„ï¼Œæ’æ§½éƒ½æ˜¯å¤©ç”Ÿçš„ï¼Œä¸‹æ ‡ä¸º0ï¼Œ1ï¼Œ2ï¼Œâ€¦nçš„å…ƒç´ åé¢éƒ½æ˜¯æ’æ§½ï¼ˆä¸åŒ…æ‹¬æœ€åä¸€ä¸ªå…ƒç´ ï¼‰ã€‚å®é™…ä¸Šï¼Œå®ƒç›¸å½“äºæ˜¯è¿™æ ·çš„tagå‡½æ•°ï¼š</p>
<pre><code class="js">function tag(){
  const array = arguments[0].raw;
  if(array === undefined || array === null){ // è¿™é‡Œå¯ç®€å†™æˆ array == undefined
    throw new TypeError(&#39;Cannot convert undefined or null to object&#39;);
  }
  return array.reduce((p, v, i) =&gt; p + (arguments[i] || &#39;&#39;) + v);
}
</code></pre>
<p>å®é™…ä¸Šï¼ŒString.rawä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼Œè‹¥ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯ä¸€ä¸ªç¬¦åˆæ ‡å‡†æ ¼å¼çš„å¯¹è±¡ï¼Œæ‰§è¡Œå°†æŠ›å‡ºTypeErroré”™è¯¯ã€‚</p>
<pre><code class="js">String.raw({123: &#39;abcd&#39;}, 1, 2, 3); // TypeError: Cannot convert undefined or null to object
</code></pre>
<p>ç›®å‰åªæœ‰Chrome v41+å’ŒFirefox v34+ç‰ˆæœ¬æµè§ˆå™¨å®ç°äº†è¯¥æ–¹æ³•ã€‚</p>
<h3 id="String-prototype"><a href="#String-prototype" class="headerlink" title="String.prototype"></a><strong>String.prototype</strong></h3><p>å’Œå…¶ä»–æ‰€æœ‰å¯¹è±¡ä¸€æ ·ï¼Œå­—ç¬¦ä¸²å®ä¾‹çš„æ‰€æœ‰æ–¹æ³•å‡æ¥è‡ªString.prototypeã€‚ä»¥ä¸‹æ˜¯å®ƒçš„å±æ€§ç‰¹æ€§ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:left">writable</th>
<th>false</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">enumerable</td>
<td>false</td>
</tr>
<tr>
<td style="text-align:left">configurable</td>
<td>false</td>
</tr>
</tbody>
</table>
<p>å¯è§ï¼Œå­—ç¬¦ä¸²å±æ€§ä¸å¯ç¼–è¾‘ï¼Œä»»ä½•è¯•å›¾æ”¹å˜å®ƒå±æ€§çš„è¡Œä¸ºéƒ½å°†æŠ›å‡ºé”™è¯¯ã€‚</p>
<h4 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a><strong>å±æ€§</strong></h4><p>String.prototypeå…±æœ‰ä¸¤ä¸ªå±æ€§ï¼Œå¦‚ä¸‹ï¼š</p>
<ul>
<li>String.prototype.constructor æŒ‡å‘æ„é€ å™¨(String())</li>
<li>String.prototype.length è¡¨ç¤ºå­—ç¬¦ä¸²é•¿åº¦</li>
</ul>
<h4 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a><strong>æ–¹æ³•</strong></h4><p>å­—ç¬¦ä¸²åŸå‹æ–¹æ³•åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯htmlæ— å…³çš„æ–¹æ³•ï¼Œä¸€ç§æ˜¯htmlæœ‰å…³çš„æ–¹æ³•ã€‚æˆ‘ä»¬å…ˆçœ‹ç¬¬ä¸€ç§ã€‚ä½†æ˜¯æ— è®ºå­—ç¬¦ä¸²æ–¹æ³•å¦‚ä½•å‰å®³ï¼Œéƒ½ä¸è‡³äºå¼ºå¤§åˆ°å¯ä»¥æ”¹å˜åŸå­—ç¬¦ä¸²ã€‚</p>
<h5 id="HTMLæ— å…³çš„æ–¹æ³•"><a href="#HTMLæ— å…³çš„æ–¹æ³•" class="headerlink" title="HTMLæ— å…³çš„æ–¹æ³•"></a><strong>HTMLæ— å…³çš„æ–¹æ³•</strong></h5><p>å¸¸ç”¨çš„æ–¹æ³•æœ‰ï¼ŒcharAtã€charCodeAtã€concatã€indexOfã€lastIndexOfã€localeCompareã€matchã€replaceã€searchã€sliceã€splitã€substrã€substringã€toLocaleLowerCaseã€toLocaleUpperCaseã€toLowerCaseã€toStringã€toUpperCaseã€trimã€valueof ç­‰ES5æ”¯æŒçš„ï¼Œä»¥åŠ codePointAtã€containsã€endsWithã€normalizeã€repeatã€startsWith ç­‰ES6æ”¯æŒçš„ï¼Œè¿˜åŒ…æ‹¬ quoteã€toSourceã€trimLeftã€trimRight ç­‰éæ ‡å‡†çš„ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†å¯¹å„ä¸ªæ–¹æ³•åˆ†åˆ«ä¸¾ä¾‹é˜è¿°å…¶ç”¨æ³•ã€‚è‹¥æ²¡æœ‰ç‰¹åˆ«è¯´æ˜ï¼Œé»˜è®¤è¯¥æ–¹æ³•å…¼å®¹æ‰€æœ‰ç›®å‰ä¸»æµæµè§ˆå™¨ã€‚</p>
<h6 id="charAt"><a href="#charAt" class="headerlink" title="charAt"></a><strong>charAt</strong></h6><p>charAt() æ–¹æ³•è¿”å›å­—ç¬¦ä¸²ä¸­æŒ‡å®šä½ç½®çš„å­—ç¬¦ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.charAt(index)</em></p>
<p>index ä¸ºå­—ç¬¦ä¸²ç´¢å¼•ï¼ˆå–å€¼ä»0è‡³length-1ï¼‰ï¼Œå¦‚æœè¶…å‡ºè¯¥èŒƒå›´ï¼Œåˆ™è¿”å›ç©ºä¸²ã€‚</p>
<pre><code class="js">console.log(&quot;Hello, World&quot;.charAt(8)); // o, è¿”å›ä¸‹æ ‡ä¸º8çš„å­—ç¬¦ä¸²o
</code></pre>
<h6 id="charCodeAt"><a href="#charCodeAt" class="headerlink" title="charCodeAt"></a><strong>charCodeAt</strong></h6><p>charCodeAt() è¿”å›æŒ‡å®šç´¢å¼•å¤„å­—ç¬¦çš„ Unicode æ•°å€¼ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.charCodeAt(index)</em></p>
<p>index ä¸ºä¸€ä¸ªä»0è‡³length-1çš„æ•´æ•°ã€‚å¦‚æœä¸æ˜¯ä¸€ä¸ªæ•°å€¼ï¼Œåˆ™é»˜è®¤ä¸º 0ï¼Œå¦‚æœå°äº0æˆ–è€…å¤§äºå­—ç¬¦ä¸²é•¿åº¦ï¼Œåˆ™è¿”å› NaNã€‚</p>
<p>Unicode ç¼–ç å•å…ƒï¼ˆcode pointsï¼‰çš„èŒƒå›´ä» 0 åˆ° 1,114,111ã€‚å¼€å¤´çš„ 128 ä¸ª Unicode ç¼–ç å•å…ƒå’Œ ASCII å­—ç¬¦ç¼–ç ä¸€æ ·. </p>
<p>charCodeAt() æ€»æ˜¯è¿”å›ä¸€ä¸ªå°äº 65,536 çš„å€¼ã€‚å› ä¸ºé«˜ä½ç¼–ç å•å…ƒéœ€è¦ç”±ä¸€å¯¹å­—ç¬¦æ¥è¡¨ç¤ºï¼Œä¸ºäº†æŸ¥çœ‹å…¶ç¼–ç çš„å®Œæˆå­—ç¬¦ï¼Œéœ€è¦æŸ¥çœ‹ charCodeAt(i) ä»¥åŠ charCodeAt(i+1) çš„å€¼ã€‚å¦‚éœ€æ›´å¤šäº†è§£è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/prototype" target="_blank" rel="external">fixedCharCodeAt</a>ã€‚</p>
<pre><code class="js">console.log(&quot;Hello, World&quot;.charCodeAt(8)); // 111
console.log(&quot;å‰ç«¯å·¥ç¨‹å¸ˆ&quot;.charCodeAt(2)); // 24037, å¯è§ä¹Ÿå¯ä»¥æŸ¥çœ‹ä¸­æ–‡Unicodeç¼–ç 
</code></pre>
<h6 id="concat"><a href="#concat" class="headerlink" title="concat"></a><strong>concat</strong></h6><p>concat() æ–¹æ³•å°†ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œç»„æˆæ–°çš„å­—ç¬¦ä¸²å¹¶è¿”å›ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.concat(string2, string3, â€¦)</em></p>
<pre><code class="js">console.log(&quot;æ—©&quot;.concat(&quot;ä¸Š&quot;,&quot;å¥½&quot;)); // æ—©ä¸Šå¥½
</code></pre>
<p>ä½†æ˜¯ concat çš„æ€§èƒ½è¡¨ç°ä¸ä½³ï¼Œå¼ºçƒˆæ¨èä½¿ç”¨èµ‹å€¼æ“ä½œç¬¦ï¼ˆ+æˆ–+=ï¼‰ä»£æ›¿ concatã€‚â€+â€ æ“ä½œç¬¦å¤§æ¦‚å¿«äº† concat å‡ åå€ã€‚ï¼ˆæ•°æ®å‚è€ƒ <a href="http://jsperf.com/concat-vs-plus-vs-join" target="_blank" rel="external">æ€§èƒ½æµ‹è¯•</a>ï¼‰ã€‚</p>
<h6 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf"></a><strong>indexOf</strong></h6><h6 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf"></a><strong>lastIndexOf</strong></h6><p>indexOf() æ–¹æ³•ç”¨äºæŸ¥æ‰¾å­å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼Œæ²¡æœ‰åˆ™è¿”å› -1ã€‚è¯¥æ–¹æ³•ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œå¹¶ä¸”ä»å·¦å¾€å³æŸ¥æ‰¾ã€‚è€Œ lastIndexOf åˆ™ä»å³å¾€å·¦æŸ¥æ‰¾ï¼Œå…¶å®ƒä¸å‰è€…ä¸€è‡´ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.indexOf(searchValue [, fromIndex=0])</em>ï¼Œ<em>str.lastIndexOf(searchValue [, fromIndex=0])</em></p>
<p>searchValue è¡¨ç¤ºè¢«æŸ¥æ‰¾çš„å­—ç¬¦ä¸²ï¼ŒfromIndex è¡¨ç¤ºå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®ï¼Œé»˜è®¤ä¸º0ï¼Œå¦‚æœå°äº0ï¼Œåˆ™æŸ¥æ‰¾æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè‹¥è¶…è¿‡å­—ç¬¦ä¸²é•¿åº¦ï¼Œåˆ™è¯¥æ–¹æ³•è¿”å›-1ï¼Œé™¤éè¢«æŸ¥æ‰¾çš„æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œæ­¤æ—¶è¿”å›å­—ç¬¦ä¸²é•¿åº¦ã€‚</p>
<pre><code class="js">console.log(&quot;&quot;.indexOf(&quot;&quot;,100)); // 0
console.log(&quot;ITæ”¹å˜ä¸–ç•Œ&quot;.indexOf(&quot;ä¸–ç•Œ&quot;)); // 4
console.log(&quot;ITæ”¹å˜ä¸–ç•Œ&quot;.lastIndexOf(&quot;ä¸–ç•Œ&quot;)); // 4
</code></pre>
<h6 id="localeCompare"><a href="#localeCompare" class="headerlink" title="localeCompare"></a><strong>localeCompare</strong></h6><p>localeCompare() æ–¹æ³•ç”¨æ¥æ¯”è¾ƒå­—ç¬¦ä¸²ï¼Œå¦‚æœæŒ‡å®šå­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²çš„å‰é¢åˆ™è¿”å›è´Ÿæ•°ï¼Œå¦åˆ™è¿”å›æ­£æ•°æˆ–0ï¼Œå…¶ä¸­0 è¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒã€‚è¯¥æ–¹æ³•å®ç°ä¾èµ–å…·ä½“çš„æœ¬åœ°å®ç°ï¼Œä¸åŒçš„è¯­è¨€ä¸‹å¯èƒ½æœ‰ä¸åŒçš„è¿”å›ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.localeCompare(str2 [, locales [, options]])</em></p>
<pre><code class="js">var str = &quot;apple&quot;;
var str2 = &quot;orange&quot;;
console.log(str.localeCompare(str2)); // -1
console.log(str.localeCompare(&quot;123&quot;)); // 1
</code></pre>
<p>ç›®å‰ Safari æµè§ˆå™¨æš‚ä¸æ”¯æŒè¯¥æ–¹æ³•ï¼Œä½†Chrome v24+ã€Firefox v29+ï¼ŒIE11+ å’Œ Opera v15+ éƒ½å·²å®ç°äº†å®ƒã€‚</p>
<h6 id="match"><a href="#match" class="headerlink" title="match"></a><strong>match</strong></h6><p>match() æ–¹æ³•ç”¨äºæµ‹è¯•å­—ç¬¦ä¸²æ˜¯å¦æ”¯æŒæŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™ï¼Œå³ä½¿ä¼ å…¥çš„æ˜¯éæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œå®ƒä¹Ÿä¼šéšå¼åœ°ä½¿ç”¨<code>new RegExp(obj)</code>å°†å…¶è½¬æ¢ä¸ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.match(regexp)</em></p>
<p>è¯¥æ–¹æ³•è¿”å›åŒ…å«åŒ¹é…ç»“æœçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…é¡¹ï¼Œåˆ™è¿”å› nullã€‚</p>
<p><strong>æè¿°</strong></p>
<ul>
<li>è‹¥æ­£åˆ™è¡¨è¾¾å¼æ²¡æœ‰ g æ ‡å¿—ï¼Œåˆ™è¿”å›åŒ RegExp.exec(str) ç›¸åŒçš„ç»“æœã€‚è€Œä¸”è¿”å›çš„æ•°ç»„æ‹¥æœ‰ä¸€ä¸ªé¢å¤–çš„ input å±æ€§ï¼Œè¯¥å±æ€§åŒ…å«åŸå§‹å­—ç¬¦ä¸²ï¼Œå¦å¤–è¯¥æ•°ç»„è¿˜æ‹¥æœ‰ä¸€ä¸ª index å±æ€§ï¼Œè¯¥å±æ€§è¡¨ç¤ºåŒ¹é…å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­ç´¢å¼•ï¼ˆä»0å¼€å§‹ï¼‰ã€‚</li>
<li>è‹¥æ­£åˆ™è¡¨è¾¾å¼åŒ…å« g æ ‡å¿—ï¼Œåˆ™è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…ç»“æœçš„æ•°ç»„ï¼Œæ²¡æœ‰åŒ¹é…åˆ°åˆ™è¿”å› nullã€‚</li>
</ul>
<p><strong>ç›¸å…³ RegExp æ–¹æ³•</strong></p>
<ul>
<li>è‹¥éœ€æµ‹è¯•å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æ­£åˆ™ï¼Œè¯·å‚è€ƒ RegExp.test(str)ã€‚</li>
<li>è‹¥åªéœ€ç¬¬ä¸€ä¸ªåŒ¹é…ç»“æœï¼Œè¯·å‚è€ƒ RegExp.exec(str)ã€‚</li>
</ul>
<pre><code class="js">var str = &quot;World Internet Conference&quot;;
console.log(str.match(/[a-d]/i)); // [&quot;d&quot;, index: 4, input: &quot;World Internet Conference&quot;]
console.log(str.match(/[a-d]/gi)); // [&quot;d&quot;, &quot;C&quot;, &quot;c&quot;]
// RegExp æ–¹æ³•å¦‚ä¸‹
console.log(/[a-d]/gi.test(str)); // true
console.log(/[a-d]/gi.exec(str)); // [&quot;d&quot;, index: 4, input: &quot;World Internet Conference&quot;]
</code></pre>
<p>ç”±ä¸Šå¯çŸ¥ï¼ŒRegExp.test(str) æ–¹æ³•åªè¦åŒ¹é…åˆ°äº†ä¸€ä¸ªå­—ç¬¦ä¹Ÿè¿”å›trueã€‚è€ŒRegExp.exec(str) æ–¹æ³•æ— è®ºæ­£åˆ™ä¸­æœ‰æ²¡æœ‰åŒ…å« g æ ‡å¿—ï¼ŒRegExp.execå°†ç›´æ¥è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…ç»“æœï¼Œä¸”è¯¥ç»“æœåŒ str.match(regexp) æ–¹æ³•ä¸åŒ…å« g æ ‡å¿—æ—¶çš„è¿”å›ä¸€è‡´ã€‚</p>
<h6 id="replace"><a href="#replace" class="headerlink" title="replace"></a><strong>replace</strong></h6><p>è¯¥æ–¹æ³•åœ¨ä¹‹å‰å·²ç»è®²è¿‡ï¼Œè¯¦ç»†è¯·å‚è€ƒ <a href="http://louiszhai.github.io/2015/12/11/js.replace/"><code>String.prototype.replaceé«˜é˜¶æŠ€èƒ½</code></a> ã€‚</p>
<h6 id="search"><a href="#search" class="headerlink" title="search"></a><strong>search</strong></h6><p>search() æ–¹æ³•ç”¨äºæµ‹è¯•å­—ç¬¦ä¸²å¯¹è±¡æ˜¯å¦åŒ…å«æŸä¸ªæ­£åˆ™åŒ¹é…ï¼Œç›¸å½“äºæ­£åˆ™è¡¨è¾¾å¼çš„ test æ–¹æ³•ï¼Œä¸”è¯¥æ–¹æ³•æ¯” match() æ–¹æ³•æ›´å¿«ã€‚å¦‚æœåŒ¹é…æˆåŠŸï¼Œsearch() è¿”å›æ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡åŒ¹é…é¡¹çš„ç´¢å¼•ï¼Œå¦åˆ™è¿”å›-1ã€‚</p>
<p>æ³¨æ„ï¼š<strong>searchæ–¹æ³•ä¸indexOfæ–¹æ³•ä½œç”¨åŸºæœ¬ä¸€è‡´ï¼Œéƒ½æ˜¯æŸ¥è¯¢åˆ°äº†å°±è¿”å›å­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å›-1ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±åœ¨äºsearché»˜è®¤ä¼šå°†å­ä¸²è½¬åŒ–ä¸ºæ­£åˆ™è¡¨è¾¾å¼å½¢å¼ï¼Œè€ŒindexOfä¸åšæ­¤å¤„ç†ï¼Œä¹Ÿä¸èƒ½å¤„ç†æ­£åˆ™ã€‚</strong></p>
<p>è¯­æ³•ï¼š<em>str.search(regexp)</em></p>
<pre><code class="js">var str = &quot;abcdefg&quot;;
console.log(str.search(/[d-g]/)); // 3, åŒ¹é…åˆ°å­ä¸²&quot;defg&quot;,è€Œdåœ¨åŸå­—ç¬¦ä¸²ä¸­çš„ç´¢å¼•ä¸º3
</code></pre>
<p>search() æ–¹æ³•ä¸æ”¯æŒå…¨å±€åŒ¹é…ï¼ˆæ­£åˆ™ä¸­åŒ…å«gå‚æ•°ï¼‰ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="js">console.log(str.search(/[d-g]/g)); // 3, ä¸æ— gå‚æ•°æ—¶,è¿”å›ç›¸åŒ
</code></pre>
<h6 id="slice"><a href="#slice" class="headerlink" title="slice"></a><strong>slice</strong></h6><p>slice() æ–¹æ³•æå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶è¿”å›æ–°çš„å­—ç¬¦ä¸²ã€‚è¯¥æ–¹æ³•æœ‰äº›ç±»ä¼¼ Array.prototype.slice æ–¹æ³•ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.slice(start, end)</em></p>
<p>é¦–å…ˆ end å‚æ•°å¯é€‰ï¼Œstartå¯å–æ­£å€¼ï¼Œä¹Ÿå¯å–è´Ÿå€¼ã€‚</p>
<p>å–æ­£å€¼æ—¶è¡¨ç¤ºä»ç´¢å¼•ä¸ºstartçš„ä½ç½®æˆªå–åˆ°endçš„ä½ç½®ï¼ˆä¸åŒ…æ‹¬endæ‰€åœ¨ä½ç½®çš„å­—ç¬¦ï¼Œå¦‚æœendçœç•¥åˆ™æˆªå–åˆ°å­—ç¬¦ä¸²æœ«å°¾ï¼‰ã€‚</p>
<p>å–è´Ÿå€¼æ—¶è¡¨ç¤ºä»ç´¢å¼•ä¸º length+start ä½ç½®æˆªå–åˆ°endæ‰€åœ¨ä½ç½®çš„å­—ç¬¦ã€‚</p>
<pre><code class="js">var str = &quot;It is our choices that show what we truly are, far more than our abilities.&quot;;
console.log(str.slice(0,-30)); // It is our choices that show what we truly are
console.log(str.slice(-30)); // , far more than our abilities.
</code></pre>
<h6 id="split"><a href="#split" class="headerlink" title="split"></a><strong>split</strong></h6><p>split() æ–¹æ³•æŠŠåŸå­—ç¬¦ä¸²åˆ†å‰²æˆå­å­—ç¬¦ä¸²ç»„æˆæ•°ç»„ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.split(separator, limit)</em></p>
<p>ä¸¤ä¸ªå‚æ•°å‡æ˜¯å¯é€‰çš„ï¼Œå…¶ä¸­ separator è¡¨ç¤ºåˆ†éš”ç¬¦ï¼Œå®ƒå¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚å¦‚æœå¿½ç•¥ separatorï¼Œåˆ™è¿”å›çš„æ•°ç»„åŒ…å«ä¸€ä¸ªç”±åŸå­—ç¬¦ä¸²ç»„æˆçš„å…ƒç´ ã€‚å¦‚æœ separator æ˜¯ä¸€ä¸ªç©ºä¸²ï¼Œåˆ™ str å°†ä¼šè¢«åˆ†å‰²æˆä¸€ä¸ªç”±åŸå­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„æˆçš„æ•°ç»„ã€‚limit è¡¨ç¤ºä»è¿”å›çš„æ•°ç»„ä¸­æˆªå–å‰ limit ä¸ªå…ƒç´ ï¼Œä»è€Œé™å®šè¿”å›çš„æ•°ç»„é•¿åº¦ã€‚</p>
<pre><code class="js">var str = &quot;today is a sunny day&quot;;
console.log(str.split()); // [&quot;today is a sunny day&quot;]
console.log(str.split(&quot;&quot;)); // [&quot;t&quot;, &quot;o&quot;, &quot;d&quot;, &quot;a&quot;, &quot;y&quot;, &quot; &quot;, &quot;i&quot;, &quot;s&quot;, &quot; &quot;, &quot;a&quot;, &quot; &quot;, &quot;s&quot;, &quot;u&quot;, &quot;n&quot;, &quot;n&quot;, &quot;y&quot;, &quot; &quot;, &quot;d&quot;, &quot;a&quot;, &quot;y&quot;]
console.log(str.split(&quot; &quot;)); // [&quot;today&quot;, &quot;is&quot;, &quot;a&quot;, &quot;sunny&quot;, &quot;day&quot;]
</code></pre>
<p>ä½¿ç”¨limité™å®šè¿”å›çš„æ•°ç»„å¤§å°ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="js">console.log(str.split(&quot; &quot;)); // [&quot;today&quot;]
</code></pre>
<p>ä½¿ç”¨æ­£åˆ™åˆ†éš”ç¬¦ï¼ˆRegExp separatorï¼‰ï¼Œ å¦‚ä¸‹ï¼š</p>
<pre><code class="js">console.log(str.split(/\s*is\s*/)); // [&quot;today&quot;, &quot;a sunny day&quot;]
</code></pre>
<p>è‹¥æ­£åˆ™åˆ†éš”ç¬¦é‡ŒåŒ…å«æ•è·æ‹¬å·ï¼Œåˆ™æ‹¬å·åŒ¹é…çš„ç»“æœå°†ä¼šåŒ…å«åœ¨è¿”å›çš„æ•°ç»„ä¸­ã€‚</p>
<pre><code class="js">console.log(str.split(/(\s*is\s*)/)); // [&quot;today&quot;, &quot; is &quot;, &quot;a sunny day&quot;]
</code></pre>
<h6 id="substr"><a href="#substr" class="headerlink" title="substr"></a><strong>substr</strong></h6><p>substr() æ–¹æ³•è¿”å›å­—ç¬¦ä¸²æŒ‡å®šä½ç½®å¼€å§‹çš„æŒ‡å®šæ•°é‡çš„å­—ç¬¦ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.substr(start[, length])</em></p>
<p>start è¡¨ç¤ºå¼€å§‹æˆªå–å­—ç¬¦çš„ä½ç½®ï¼Œå¯å–æ­£å€¼æˆ–è´Ÿå€¼ã€‚å–æ­£å€¼æ—¶è¡¨ç¤ºstartä½ç½®çš„ç´¢å¼•ï¼Œå–è´Ÿå€¼æ—¶è¡¨ç¤º length+startä½ç½®çš„ç´¢å¼•ã€‚</p>
<p>length è¡¨ç¤ºæˆªå–çš„å­—ç¬¦é•¿åº¦ã€‚</p>
<pre><code class="js">var str = &quot;Yesterday is history. Tomorrow is mystery. But today is a gift.&quot;;
console.log(str.substr(47)); // today is a gift.
console.log(str.substr(-16)); // today is a gift.
</code></pre>
<p>ç›®å‰ Microsoftâ€™s JScript ä¸æ”¯æŒ start å‚æ•°å–è´Ÿçš„ç´¢å¼•ï¼Œå¦‚éœ€åœ¨ IE ä¸‹æ”¯æŒï¼Œè¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/substr#Description" target="_blank" rel="external">Polyfill</a>ã€‚</p>
<h6 id="substring"><a href="#substring" class="headerlink" title="substring"></a><strong>substring</strong></h6><p>substring() æ–¹æ³•è¿”å›å­—ç¬¦ä¸²ä¸¤ä¸ªç´¢å¼•ä¹‹é—´çš„å­ä¸²ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.substring(indexA[, indexB])</em></p>
<p>indexAã€indexB è¡¨ç¤ºå­—ç¬¦ä¸²ç´¢å¼•ï¼Œå…¶ä¸­ indexB å¯é€‰ï¼Œå¦‚æœçœç•¥ï¼Œåˆ™è¡¨ç¤ºè¿”å›ä» indexA åˆ°å­—ç¬¦ä¸²æœ«å°¾çš„å­ä¸²ã€‚</p>
<p><strong>æè¿°</strong></p>
<p>substring è¦æˆªå–çš„æ˜¯ä» indexA åˆ° indexBï¼ˆä¸åŒ…å«ï¼‰ä¹‹é—´çš„å­—ç¬¦ï¼Œç¬¦åˆä»¥ä¸‹è§„å¾‹ï¼š</p>
<ul>
<li>è‹¥ indexA == indexBï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼›</li>
<li>è‹¥ çœç•¥ indexBï¼Œåˆ™æå–å­—ç¬¦ä¸€ç›´åˆ°å­—ç¬¦ä¸²æœ«å°¾ï¼›</li>
<li>è‹¥ ä»»ä¸€å‚æ•°å°äº 0 æˆ– NaNï¼Œåˆ™è¢«å½“ä½œ 0ï¼›</li>
<li>è‹¥ ä»»ä¸€å‚æ•°å¤§äº lengthï¼Œåˆ™è¢«å½“ä½œ lengthã€‚</li>
</ul>
<p>è€Œ å¦‚æœ indexA &gt; indexBï¼Œåˆ™ substring çš„æ‰§è¡Œæ•ˆæœå°±åƒæ˜¯ä¸¤ä¸ªå‚æ•°è°ƒæ¢ä¸€èˆ¬ã€‚æ¯”å¦‚ï¼šstr.substring(0, 1) == str.substring(1, 0)</p>
<pre><code class="js">var str = &quot;Get outside every day. Miracles are waiting everywhere.&quot;;
console.log(str.substring(1,1)); // &quot;&quot;
console.log(str.substring(0)); // Get outside every day. Miracles are waiting everywhere.
console.log(str.substring(-1)); // Get outside every day. Miracles are waiting everywhere.
console.log(str.substring(0,100)); // Get outside every day. Miracles are waiting everywhere.
console.log(str.substring(22,NaN)); // Get outside every day.
</code></pre>
<h6 id="toLocaleLowerCase"><a href="#toLocaleLowerCase" class="headerlink" title="toLocaleLowerCase"></a><strong>toLocaleLowerCase</strong></h6><h6 id="toLocaleUpperCase"><a href="#toLocaleUpperCase" class="headerlink" title="toLocaleUpperCase"></a><strong>toLocaleUpperCase</strong></h6><p>toLocaleLowerCase() æ–¹æ³•è¿”å›è°ƒç”¨è¯¥æ–¹æ³•çš„å­—ç¬¦ä¸²è¢«è½¬æ¢æˆå°å†™çš„å€¼ï¼Œè½¬æ¢è§„åˆ™æ ¹æ®æœ¬åœ°åŒ–çš„å¤§å°å†™æ˜ å°„ã€‚è€ŒtoLocaleUpperCase() æ–¹æ³•åˆ™æ˜¯è½¬æ¢æˆå¤§å†™çš„å€¼ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.toLocaleLowerCase()</em>, <em>str.toLocaleUpperCase()</em></p>
<pre><code class="js">console.log(&#39;ABCDEFG&#39;.toLocaleLowerCase()); // abcdefg
console.log(&#39;abcdefg&#39;.toLocaleUpperCase()); // ABCDEFG
</code></pre>
<h6 id="toLowerCase"><a href="#toLowerCase" class="headerlink" title="toLowerCase"></a><strong>toLowerCase</strong></h6><h6 id="toUpperCase"><a href="#toUpperCase" class="headerlink" title="toUpperCase"></a><strong>toUpperCase</strong></h6><p>è¿™ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«è¡¨ç¤ºå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºç›¸åº”çš„å°å†™ï¼Œå¤§å†™å½¢å¼ï¼Œå¹¶è¿”å›ã€‚å¦‚ä¸‹ï¼š</p>
<pre><code class="js">console.log(&#39;ABCDEFG&#39;.toLowerCase()); // abcdefg
console.log(&#39;abcdefg&#39;.toUpperCase()); // ABCDEFG
</code></pre>
<h6 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a><strong>toString</strong></h6><h6 id="valueOf-NaN"><a href="#valueOf-NaN" class="headerlink" title="valueOf"></a><strong>valueOf</strong></h6><p>è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯è¿”å›å­—ç¬¦ä¸²æœ¬èº«ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.toString()</em>, <em>str.valueOf()</em></p>
<pre><code class="js">var str = &quot;abc&quot;;
console.log(str.toString()); // abc
console.log(str.toString()==str.valueOf()); // true
</code></pre>
<p>å¯¹äºå¯¹è±¡è€Œè¨€ï¼ŒtoStringå’ŒvalueOfä¹Ÿæ˜¯éå¸¸çš„ç›¸ä¼¼ï¼Œå®ƒä»¬ä¹‹é—´æœ‰ç€ç»†å¾®çš„å·®åˆ«ï¼Œè¯·å°è¯•è¿è¡Œä»¥ä¸‹ä¸€æ®µä»£ç ï¼š</p>
<pre><code class="js">var x = {
    toString: function () { return &quot;test&quot;; },
    valueOf: function () { return 123; }
};

console.log(x); // test
console.log(&quot;x=&quot; + x); // &quot;x=123&quot;
console.log(x + &quot;=x&quot;); // &quot;123=x&quot;
console.log(x + &quot;1&quot;); // 1231
console.log(x + 1); // 124
console.log([&quot;x=&quot;, x].join(&quot;&quot;)); // &quot;x=test&quot;
</code></pre>
<p>å½“ â€œ+â€ æ“ä½œç¬¦ä¸€è¾¹ä¸ºæ•°å­—æ—¶ï¼Œå¯¹è±¡xè¶‹å‘äºè½¬æ¢ä¸ºæ•°å­—ï¼Œè¡¨è¾¾å¼ä¼šä¼˜å…ˆè°ƒç”¨ valueOf æ–¹æ³•ï¼Œå¦‚æœè°ƒç”¨æ•°ç»„çš„ join æ–¹æ³•ï¼Œå¯¹è±¡xè¶‹å‘äºè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œè¡¨è¾¾å¼ä¼šä¼˜å…ˆè°ƒç”¨ toString æ–¹æ³•ã€‚</p>
<h6 id="trim"><a href="#trim" class="headerlink" title="trim"></a><strong>trim</strong></h6><p>trim() æ–¹æ³•æ¸…é™¤å­—ç¬¦ä¸²é¦–å°¾çš„ç©ºç™½å¹¶è¿”å›ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.trim()</em></p>
<pre><code class="js">console.log(&quot; a b c &quot;.trim()); // &quot;a b c&quot;
</code></pre>
<p>trim() æ–¹æ³•æ˜¯ ECMAScript 5.1 æ ‡å‡†åŠ å…¥çš„ï¼Œå®ƒå¹¶ä¸æ”¯æŒIE9ä»¥ä¸‹çš„ä½ç‰ˆæœ¬IEæµè§ˆå™¨ï¼Œå¦‚éœ€æ”¯æŒï¼Œè¯·å‚è€ƒä»¥ä¸‹å…¼å®¹å†™æ³•ï¼š</p>
<pre><code class="js">if(!String.prototype.trim) {
  String.prototype.trim = function () {
    return this.replace(/^\s+|\s+$/g,&#39;&#39;);
  };
}
</code></pre>
<h6 id="codePointAt-ES6"><a href="#codePointAt-ES6" class="headerlink" title="codePointAt(ES6)"></a><strong>codePointAt(ES6)</strong></h6><p>codePointAt() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œè¿”å›ä½¿ç”¨UTF-16ç¼–ç çš„ç»™å®šä½ç½®çš„å€¼çš„éè´Ÿæ•´æ•°ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.codePointAt(position)</em></p>
<pre><code class="js">console.log(&quot;a&quot;.codePointAt(0)); // 97
console.log(&quot;\u4f60\u597d&quot;.codePointAt(0)); // 20320
</code></pre>
<p>å¦‚éœ€åœ¨è€çš„æµè§ˆå™¨ä¸­ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œè¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/codePointAt#Polyfill" target="_blank" rel="external">Polyfill</a>ã€‚</p>
<h6 id="includes-ES6"><a href="#includes-ES6" class="headerlink" title="includes(ES6)"></a><strong>includes(ES6)</strong></h6><p>includes() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦å±äºå¦ä¸€ä¸ªå­—ç¬¦ã€‚å¦‚æœæ˜¯ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p>
<p>è¯­æ³•ï¼š<em>str.includes(subString [, position])</em></p>
<p>subString è¡¨ç¤ºè¦æœç´¢çš„å­—ç¬¦ä¸²ï¼Œposition è¡¨ç¤ºä»å½“å‰å­—ç¬¦ä¸²çš„å“ªä¸ªä½ç½®å¼€å§‹æœç´¢å­—ç¬¦ä¸²ï¼Œé»˜è®¤å€¼ä¸º0ã€‚</p>
<pre><code class="js">var str = &quot;Practice makes perfect.&quot;;
console.log(str.includes(&quot;perfect&quot;)); // true
console.log(str.includes(&quot;perfect&quot;,100)); // false
</code></pre>
<p>å®é™…ä¸Šï¼ŒFirefox 18~39ä¸­è¯¥æ–¹æ³•çš„åç§°ä¸ºcontainsï¼Œç”±äº<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1102219" target="_blank" rel="external">bug 1102219</a>çš„å­˜åœ¨ï¼Œå®ƒè¢«é‡å‘½åä¸º<code>includes()</code> ã€‚ç›®å‰åªæœ‰Chrome v41+å’ŒFirefox v40+ç‰ˆæœ¬æµè§ˆå™¨å®ç°äº†å®ƒï¼Œå¦‚éœ€åœ¨å…¶å®ƒç‰ˆæœ¬æµè§ˆå™¨ä¸­ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œè¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/includes#å¡«å……" target="_blank" rel="external">Polyfill</a>ã€‚</p>
<h6 id="endsWith-ES6"><a href="#endsWith-ES6" class="headerlink" title="endsWith(ES6)"></a><strong>endsWith(ES6)</strong></h6><p>endsWith() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒåŸºæœ¬ä¸ contains() åŠŸèƒ½ç›¸åŒï¼Œä¸åŒçš„æ˜¯ï¼Œå®ƒç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯åŸå­—ç¬¦ä¸²çš„ç»“å°¾ã€‚è‹¥æ˜¯åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p>
<p>è¯­æ³•ï¼š<em>str.endsWith(substring [, position])</em></p>
<p>ä¸contains æ–¹æ³•ä¸åŒï¼Œposition å‚æ•°çš„é»˜è®¤å€¼ä¸ºå­—ç¬¦ä¸²é•¿åº¦ã€‚</p>
<pre><code class="js">var str = &quot;Learn and live.&quot;;
console.log(str.endsWith(&quot;live.&quot;)); // true
console.log(str.endsWith(&quot;Learn&quot;,5)); // true
</code></pre>
<p>åŒæ ·ç›®å‰åªæœ‰ Firefox v17+ç‰ˆæœ¬å®ç°äº†è¯¥æ–¹æ³•ã€‚å…¶å®ƒæµè§ˆå™¨è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith#Polyfill" target="_blank" rel="external">Polyfill</a>ã€‚</p>
<h6 id="normalize-ES6"><a href="#normalize-ES6" class="headerlink" title="normalize(ES6)"></a><strong>normalize(ES6)</strong></h6><p>normalize() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒä¼šæŒ‰ç…§æŒ‡å®šçš„ Unicode æ­£è§„å½¢å¼å°†åŸå­—ç¬¦ä¸²æ­£è§„åŒ–ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.normalize([form])</em></p>
<p>form å‚æ•°å¯çœç•¥ï¼Œç›®å‰æœ‰å››ç§ Unicode æ­£è§„å½¢å¼ï¼Œå³ â€œNFCâ€ã€â€NFDâ€ã€â€NFKCâ€ ä»¥åŠ â€œNFKDâ€ï¼Œformçš„é»˜è®¤å€¼ä¸º â€œNFCâ€ã€‚å¦‚æœform ä¼ å…¥äº†éæ³•çš„å‚æ•°å€¼ï¼Œåˆ™ä¼šæŠ›å‡º RangeError é”™è¯¯ã€‚</p>
<pre><code class="js">var str = &quot;\u4f60\u597d&quot;;
console.log(str.normalize()); // ä½ å¥½
console.log(str.normalize(&quot;NFC&quot;)); // ä½ å¥½
console.log(str.normalize(&quot;NFD&quot;)); // ä½ å¥½
console.log(str.normalize(&quot;NFKC&quot;)); // ä½ å¥½
console.log(str.normalize(&quot;NFKD&quot;)); // ä½ å¥½
</code></pre>
<p>ç›®å‰åªæœ‰Chrome v34+å’ŒFirefox v31+å®ç°äº†å®ƒã€‚</p>
<h6 id="repeat-ES6"><a href="#repeat-ES6" class="headerlink" title="repeat(ES6)"></a><strong>repeat(ES6)</strong></h6><p>repeat() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒè¿”å›é‡å¤åŸå­—ç¬¦ä¸²å¤šæ¬¡çš„æ–°å­—ç¬¦ä¸²ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.repeat(count)</em></p>
<p>count å‚æ•°åªèƒ½å–å¤§äºç­‰äº0 çš„æ•°å­—ã€‚è‹¥è¯¥æ•°å­—ä¸ä¸ºæ•´æ•°ï¼Œå°†è‡ªåŠ¨è½¬æ¢ä¸ºæ•´æ•°å½¢å¼ï¼Œè‹¥ä¸ºè´Ÿæ•°æˆ–è€…å…¶ä»–å€¼å°†æŠ¥é”™ã€‚</p>
<pre><code class="js">var str = &quot;A still tongue makes a wise head.&quot;;
console.log(str.repeat(0)); // &quot;&quot;
console.log(str.repeat(1)); // A still tongue makes a wise head.
console.log(str.repeat(1.5)); // A still tongue makes a wise head.
console.log(str.repeat(-1)); // RangeError:Invalid count value
</code></pre>
<p>ç›®å‰åªæœ‰ Chrome v41+ã€Firefox v24+å’ŒSafari v9+ç‰ˆæœ¬æµè§ˆå™¨å®ç°äº†è¯¥æ–¹æ³•ã€‚å…¶ä»–æµè§ˆå™¨è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/repeat#å¡«å……" target="_blank" rel="external">Polyfill</a>ã€‚</p>
<h6 id="startsWith-ES6"><a href="#startsWith-ES6" class="headerlink" title="startsWith(ES6)"></a><strong>startsWith(ES6)</strong></h6><p>startsWith() æ–¹æ³•åŸºäº<strong>ECMAScript 2015ï¼ˆES6ï¼‰è§„èŒƒ</strong>ï¼Œå®ƒç”¨æ¥åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥ç»™å®šå­—ç¬¦ä¸²å¼€å§‹çš„ï¼Œè‹¥æ˜¯åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p>
<p>è¯­æ³•ï¼š<em>str.startsWith(subString [, position])</em></p>
<pre><code class="js">var str = &quot;Where there is a will, there is a way.&quot;;
console.log(str.startsWith(&quot;Where&quot;)); // true
console.log(str.startsWith(&quot;there&quot;,6)); // true
</code></pre>
<p>ç›®å‰ä»¥ä¸‹ç‰ˆæœ¬æµè§ˆå™¨å®ç°äº†è¯¥æ–¹æ³•ï¼Œå…¶ä»–æµè§ˆå™¨è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith#Polyfill" target="_blank" rel="external">Polyfill</a>ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:center">Chrome</th>
<th style="text-align:center">Firefox</th>
<th style="text-align:center">Edge</th>
<th style="text-align:center">Opera</th>
<th style="text-align:center">Safari</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">41+</td>
<td style="text-align:center">17+</td>
<td style="text-align:center">âœ”ï¸</td>
<td style="text-align:center">28+</td>
<td style="text-align:center">9+</td>
</tr>
</tbody>
</table>
<p>å…¶å®ƒ<strong>éæ ‡å‡†</strong>çš„æ–¹æ³•æš‚æ—¶ä¸ä½œä»‹ç»ï¼Œå¦‚éœ€äº†è§£è¯·å‚è€ƒ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/prototype" target="_blank" rel="external">String.prototype</a> ä¸­æ ‡æ³¨ä¸ºæ„Ÿå¹å·çš„æ–¹æ³•ã€‚</p>
<h5 id="HTMLæœ‰å…³çš„æ–¹æ³•"><a href="#HTMLæœ‰å…³çš„æ–¹æ³•" class="headerlink" title="HTMLæœ‰å…³çš„æ–¹æ³•"></a>HTMLæœ‰å…³çš„æ–¹æ³•</h5><p>å¸¸ç”¨çš„æ–¹æ³•æœ‰ anchorï¼Œlink å…¶å®ƒæ–¹æ³•å¦‚ bigã€blinkã€boldã€fixedã€fontcolorã€fontsizeã€italicsã€smallã€strikeã€subã€supå‡å·²åºŸé™¤ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†ä»‹ç» anchor å’Œ link ä¸¤ä¸ªæ–¹æ³•ï¼Œå…¶ä»–åºŸé™¤æ–¹æ³•ä¸ä½œä»‹ç»ã€‚</p>
<h6 id="anchor"><a href="#anchor" class="headerlink" title="anchor"></a><strong>anchor</strong></h6><p>anchor() æ–¹æ³•åˆ›å»ºä¸€ä¸ªé”šæ ‡ç­¾ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.anchor(name)</em></p>
<p>name æŒ‡å®šè¢«åˆ›å»ºçš„aæ ‡ç­¾çš„nameå±æ€§ï¼Œä½¿ç”¨è¯¥æ–¹æ³•åˆ›å»ºçš„é”šç‚¹ï¼Œå°†ä¼šæˆä¸º document.anchors æ•°ç»„çš„å…ƒç´ ã€‚</p>
<pre><code class="js">var str = &quot;this is a anchor tag&quot;;
document.body.innerHTML = document.body.innerHTML + str.anchor(&quot;anchor1&quot;); // bodyæœ«å°¾å°†ä¼šè¿½åŠ è¿™äº›å†…å®¹ &lt;a name=&quot;anchor1&quot;&gt;this is a anchor tag&lt;/a&gt;
</code></pre>
<h6 id="link"><a href="#link" class="headerlink" title="link"></a><strong>link</strong></h6><p>link() æ–¹æ³•åŒæ ·åˆ›å»ºä¸€ä¸ªaæ ‡ç­¾ã€‚</p>
<p>è¯­æ³•ï¼š<em>str.link(url)</em></p>
<p>url æŒ‡å®šè¢«åˆ›å»ºçš„aæ ‡ç­¾çš„hrefå±æ€§ï¼Œå¦‚æœurlä¸­åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œå°†è‡ªåŠ¨è¿›è¡Œç¼–ç ã€‚ä¾‹å¦‚ <code>&quot;</code> ä¼šè¢«è½¬ä¹‰ä¸º <code>&amp;\quot</code>ã€‚ ä½¿ç”¨è¯¥æ–¹æ³•åˆ›å»ºçš„aæ ‡ç­¾ï¼Œå°†ä¼šæˆä¸º document.links æ•°ç»„ä¸­çš„å…ƒç´ ã€‚</p>
<pre><code class="js">var str = &quot;ç™¾åº¦&quot;;
document.write(str.link(&quot;https://www.baidu.com&quot;)); // &lt;a href=&quot;https://www.baidu.com&quot;&gt;ç™¾åº¦&lt;/a&gt;
</code></pre>
<hr>
<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a><strong>å°ç»“</strong></h3><p>éƒ¨åˆ†å­—ç¬¦ä¸²æ–¹æ³•ä¹‹é—´å­˜åœ¨å¾ˆå¤§çš„ç›¸ä¼¼æ€§ï¼Œè¦æ³¨æ„åŒºåˆ†ä»–ä»¬çš„åŠŸèƒ½å’Œä½¿ç”¨åœºæ™¯ã€‚å¦‚ï¼š</p>
<ul>
<li>substr å’Œ substringï¼Œéƒ½æ˜¯ä¸¤ä¸ªå‚æ•°ï¼Œä½œç”¨åŸºæœ¬ç›¸åŒï¼Œä¸¤è€…ç¬¬ä¸€ä¸ªå‚æ•°å«ä¹‰ç›¸åŒï¼Œä½†ç”¨æ³•ä¸åŒï¼Œå‰è€…å¯ä¸ºè´Ÿæ•°ï¼Œåè€…å€¼ä¸ºè´Ÿæ•°æˆ–è€…éæ•´æ•°æ—¶å°†éšå¼è½¬æ¢ä¸º0ã€‚å‰è€…ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæˆªå–å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåè€…ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæˆªå–å­—ç¬¦ä¸²çš„ä¸‹æ ‡ï¼›åŒæ—¶substringç¬¬ä¸€ä¸ªå‚æ•°å¤§äºç¬¬äºŒä¸ªå‚æ•°æ—¶ï¼Œæ‰§è¡Œç»“æœåŒä½ç½®è°ƒæ¢åçš„ç»“æœã€‚</li>
<li>searchæ–¹æ³•ä¸indexOfæ–¹æ³•ä½œç”¨åŸºæœ¬ä¸€è‡´ï¼Œéƒ½æ˜¯æŸ¥è¯¢åˆ°äº†å°±è¿”å›å­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å›-1ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±åœ¨äºsearché»˜è®¤ä¼šå°†å­ä¸²è½¬åŒ–ä¸ºæ­£åˆ™è¡¨è¾¾å¼å½¢å¼ï¼Œè€ŒindexOfä¸åšæ­¤å¤„ç†ï¼Œä¹Ÿä¸èƒ½å¤„ç†æ­£åˆ™ã€‚</li>
</ul>
<p>å¦å¤–ï¼Œè¿˜è®°å¾—å—ï¼Ÿconcatæ–¹æ³•ç”±äºæ•ˆç‡é—®é¢˜ï¼Œä¸æ¨èä½¿ç”¨ã€‚</p>
<p>é€šå¸¸ï¼Œå­—ç¬¦ä¸²ä¸­ï¼Œå¸¸ç”¨çš„æ–¹æ³•å°±charAtã€indexOfã€lastIndexOfã€matchã€replaceã€searchã€sliceã€splitã€substrã€substringã€toLowerCaseã€toUpperCaseã€trimã€valueof ç­‰è¿™äº›ã€‚ç†Ÿæ‚‰å®ƒä»¬çš„è¯­æ³•è§„åˆ™å°±èƒ½ç†Ÿç»ƒåœ°é©¾é©­å­—ç¬¦ä¸²ã€‚</p>
<hr>
<p>æœ¬æ–‡å°±è®¨è®ºè¿™ä¹ˆå¤šå†…å®¹ï¼Œå¤§å®¶æœ‰ä»€ä¹ˆé—®é¢˜æˆ–å¥½çš„æƒ³æ³•æ¬¢è¿åœ¨ä¸‹æ–¹å‚ä¸<a href="#respond">ç•™è¨€å’Œè¯„è®º</a>ã€‚</p>
<p>æœ¬æ–‡ä½œè€…ï¼š<a href="https://github.com/Louiszhai" target="_blank" rel="external">louis</a></p>
<p>æœ¬æ–‡é“¾æ¥ï¼š<a href="http://louiszhai.github.io/2016/01/12/js.String/">http://louiszhai.github.io/2016/01/12/js.String/</a></p>
<p>å‚è€ƒæ–‡ç« </p>
<ul>
<li><a href="http://www.ecma-international.org/ecma-262/6.0/" target="_blank" rel="external">ECMAScriptÂ® 2015 Language Specification</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/prototype" target="_blank" rel="external">String.prototype</a></li>
<li><a href="http://stackoverflow.com/questions/2485632/valueof-vs-tostring-in-javascript" target="_blank" rel="external">valueOf() vs. toString() in Javascript</a></li>
</ul>

      
    </div>
    
  </div>
  
  
    <! -- æ·»åŠ æèµ å›¾æ ‡ -->
<div class ="post-donate">
    <div id="donate_board" class="donate_bar center">
        <a id="btn_donate" class="btn_donate" href="javascript:;" title="æ‰“èµ"></a>
        <span class="donate_txt">
           &uarr;<br>
       æ”¯æŒä¸€æ¯å’–å•¡å§ï¼
        </span>
      </div>  
  <div id="donate_guide" class="donate_bar center hidden" >
    <!-- æ”¯ä»˜å®æ‰“èµå›¾æ¡ˆ -->
    <img src="/img/alipay.gif" alt="æ”¯ä»˜å®æ‰“èµ"> 
    <!-- å¾®ä¿¡æ‰“èµå›¾æ¡ˆ -->
    <img src="/img/weixin.gif" alt="å¾®ä¿¡æ‰“èµ">  
    </div>
  <script type="text/javascript">
    document.getElementById('btn_donate').onclick = function(){
      $('#donate_board').addClass('hidden');
      $('#donate_guide').removeClass('hidden');
    }
  </script>
</div>
<! -- æ·»åŠ æèµ å›¾æ ‡ -->
  

  
    
<nav id="article-nav">
  
    <a href="/2016/03/05/xss/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          xssæ”»é˜²æµ…è°ˆ
        
      </div>
    </a>
  
  
    <a href="/2016/01/11/cross-domain/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">ç”±åŒæºç­–ç•¥åˆ°å‰ç«¯è·¨åŸŸ</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
    <a class="jiathis_button_twitter"></a>
    <a class="jiathis_button_plus"></a> 
    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>










  <style>
/*
    Name:     Kimbie (light)
    Author:   Jan T. Sott
    License:  Creative Commons Attribution-ShareAlike 4.0 Unported License
    URL:      https://github.com/idleberg/Kimbie-highlight.js
*/

/* Kimbie Comment */
.hljs-comment,
.hljs-quote {
  color: #a57a4c;
}

/* Kimbie Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-meta {
  color: #dc3958;
}

/* Kimbie Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-deletion,
.hljs-link {
  color: #f79a32;
}

/* Kimbie Yellow */
.hljs-title,
.hljs-section,
.hljs-attribute {
  color: #f06431;
}

/* Kimbie Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
  color: #889b4a;
}

/* Kimbie Purple */
.hljs-keyword,
.hljs-selector-tag,
.hljs-function {
  color: #98676a;
}

.hljs {
  display: block;
  overflow-x: auto;
  /*background: #fbebd4;*/
  color: #84613d;
  padding: 0.5em;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}
</style>
  <script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
  <script>
    // hljs.initHighlightingOnLoad();
    [].slice.call(document.querySelectorAll('pre code')).forEach(function(block, i) {
      hljs.highlightBlock(block);
      var lines = block.innerText.split('\n').length - 1;
      var ul = document.createElement('ul');
      ul.className = 'pre-numbering';
      block.className += ' has-numbering';
      block.parentNode.appendChild(ul);
      for(i=1;i<=lines;i++){
        var li = document.createElement('li');
        li.innerText = i;
        ul.appendChild(li);
      }
    });
  </script>
</div>
        <link rel="stylesheet" href="/css/content.css" type="text/css">
<footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <img src="/img/top_arrow.png" class="top_arrow" id="top_arrow">
    	<div class="footer-left">
    		&copy; 2017 è·¯æ˜“æ–¯

        <span style="position:relative;top:2px" id="cnzz_stat_icon_1256923583"></span>
        <script type="text/javascript">
          var s = document.createElement('script');
          var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");
          s.src = cnzz_protocol + "s11.cnzz.com/z_stat.php?id=1256923583&show=pic";
          document.body.appendChild(s);
        </script>

    	</div>
      	<div class="footer-right">
      		<a href="https://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
<script type="text/javascript">
  //swifty
  /*(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
  
  _st('install','4AmBuvmx4Cy-3hvyxeh8','2.0.0');*/
</script>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="/js/jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/content.js"></script>







</div>
<script src="/js/screenfull.js"></script>
<a href="https://github.com/Louiszhai" style="position: fixed; top: 0; right: 0; border: 0;z-index:9999"><img
            source="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67"
            src="/img/fork_me_on_github.png" alt="Fork me on GitHub"
            data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>
</body>
</html>